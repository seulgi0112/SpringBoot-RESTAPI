<html xmlns:th="http://www.thymeleaf.org">

<head>
<title>Member Register2</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>

<script type="text/javascript" src="http://code.jquery.com/jquery-2.1.4.min.js"></script> 
<script type="text/javascript">
$(document).ready(function() {
	
	$("#registerBtn").on("click", function() {
		var userId01 = $("#userId");
		var password01 = $("#password");
		var userName = $("#userName");
		var dateOfBirth = $("#dateOfBirth");
		var email = $("#email");
		
		var addressPostCode = $("#addressPostCode");
		var addressLocation = $("#addressLocation");
		
		var cardNo1 = $("#cardNo1").val();
		var cardValidMonth1 = $("#cardValidMonth1").val();
		var cardNo2 = $("#cardNo2").val();
		var cardValidMonth2 = $("#cardValidMonth2").val();
		
		var userId01Val = userId01.val();
		var password01Val = password01.val();
		var userNameVal = userName.val();
		var dateOfBirthVal = dateOfBirth.val();
		var emailVal = email.val();
		
		var addressPostCodeVal = addressPostCode.val();
		var addressLocationVal = address.Location.val();
		
		
		var userObject = {
				userId : userId01Val,
				password : password01Val,
				userName : userNameVal,
				email : emailVal,
				dateOfBirth : dateOfBirthVal,
				address : {
					postCode : addressPostCodeVal,
					location : addressLocationVal
				},
				cardList : [
					{
						no : cardNo1Val,
						validMonth : cardValidMonth1Val
					},
					{
						no : cardNo2Val,
						validMonth : cardValidMonth2Val
					}
				]
		};
	
		$.ajax({
				type : "POST",
				url : "/users",
				data : JSON.stringify(userObject),
				contentType :"application/json;charset=UTF-8",
				success:function(result){
					console.log("result : " + result);
					
					alert(result);
				},
				error:function(xhr,status,error){
					alert("code:" + xhr.status + "\n" + "message: "+xhr.responseText + "\n" + "error:" + error);
				}
			});
		});
	
	
	});
</script>
<body>
<h1>Register Form</h1>
<div>
	<table>
		<tr>
			<td>유저ID</td>
			<td><input id="userId" name="userId" type="text" value=""/></td>
		</tr>
		<tr>
			<td>패스워드</td>
			<td><input id="password" type="password" value=""/></td>
		</tr>
		<tr> 
			<td>이름</td>
			<td><input id="userName" type="text" value=""/></td>
		</tr>
		<tr> 
			<td>E-MAIL</td>
			<td><input id="email" type="text" value=""/></td>
		</tr>
		<tr> 
			<td>생년월일</td>
			<td><input id="dateOfBirth" type="date" value=""/></td>
		</tr>
		<tr> 
			<td>우편번호</td>
			<td><input id="addressPostCode" type="text" value=""/></td>
		</tr>
		<tr> 
			<td>주소</td>
			<td><input id="addressLocation" type="text" value=""/></td>
		</tr>
		
		<tr> 
			<td>카드1 - 번호</td>
			<td><input id="cardNo1" type="text" value=""/></td>
		</tr>
		<tr> 
			<td>카드1 - 유효년월</td>
			<td><input id="cardValidMonth1" type="text" value=""/></td>
		</tr>
		<tr> 
			<td>카드2 - 번호</td>
			<td><input id="cardNo2" type="text" value=""/></td>
		</tr>
		<tr> 
			<td>카드2 - 유효년월</td>
			<td><input id="cardValidMonth2" type="text" value=""/></td>
		</tr>
	</table>
	<button id="registerBtn">register</button>

</div>
</body>
</html>